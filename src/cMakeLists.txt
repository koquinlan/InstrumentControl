project(lab_control)

set(SOURCES
    instruments/instrument.cpp
    instruments/PSG.cpp
    instruments/AWG.cpp
    instruments/ATS.cpp

    util/IoBuffer.cpp
    util/multiThreading.cpp
    util/tests.cpp
)

message(STATUS ${SOURCES})

add_executable(lab_control ${SOURCES} control_tests.cpp)

# Include the VISA header file
target_include_directories(lab_control PRIVATE ${VISA_INCLUDE_DIR} ${ALAZAR_INCLUDE_DIR} ${Python3_INCLUDE_DIRS} ${Python3_NumPy_INCLUDE_DIRS} ${FFTW3_INCLUDE_DIR} ${HDF5_INCLUDE_DIRS})

# Link against the VISA library
target_link_libraries(lab_control PRIVATE ${VISA_LIBRARY} ${ALAZAR_LIBRARY} ${Python3_LIBRARIES} ${FFTW3_LIBRARIES} Python3::NumPy Eigen3::Eigen ${HDF5_LIBRARIES})

#
#
add_executable(thread_test ${SOURCES} threadedTesting.cpp)

# Include the VISA header file
target_include_directories(thread_test PRIVATE ${VISA_INCLUDE_DIR} ${ALAZAR_INCLUDE_DIR} ${Python3_INCLUDE_DIRS} ${Python3_NumPy_INCLUDE_DIRS} ${FFTW3_INCLUDE_DIR} ${HDF5_INCLUDE_DIRS})

# Link against the VISA library
target_link_libraries(thread_test PRIVATE ${VISA_LIBRARY} ${ALAZAR_LIBRARY} ${Python3_LIBRARIES} ${FFTW3_LIBRARIES} Python3::NumPy Eigen3::Eigen ${HDF5_LIBRARIES})